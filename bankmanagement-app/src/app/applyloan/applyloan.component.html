<div class="container">
<form [formGroup]="form" (ngSubmit)="submit()">         
        <div class="form-group">
           
            <label>Loan Type:</label>
            <select formControlName="loanType"  (change)="onOptionsSelected(form.get('loanType').value)" >
                <option disabled>Select Type</option>
                <option value="personal">Personal</option>
                <option value="housing">Housing</option>
                <option value="educational">Educational</option>
            </select>
            <mat-error *ngIf="form.get('loanType').hasError('required')">
                <small class="error"> *Loan type is required.</small> 
          </mat-error>

            <br/>
            <label>Loan Amount:</label>
            <input type="text" formControlName="loanAmount" name="loanAmount" >
            <mat-error *ngIf="form.get('loanAmount').hasError('required')">
                <small class="error"> *Loan amount is required.</small> 
          </mat-error>
            <br/>          
          <label>Loan Issue date:</label>
    <input name="issueDate" type="date" formControlName="issueDate" [min]="minDate"/>
         
          <mat-error *ngIf="form.get('issueDate').hasError('required')">
            <small class="error"> *Loan issue date is required.</small>             
          </mat-error>

          <br/>
          <label>Rate of Interest:</label>
          <input type="text" formControlName="rateOfInterest" value={{roi}}>
          <br/>

             <label>Duration Of the Loan:</label>
            <select formControlName="loanDuration">
                <option disabled>Select Duration</option>
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="15">15</option>
                <option value="20">20</option>
            </select>
            <mat-error *ngIf="form.get('loanDuration').hasError('required')">
                <small class="error"> *Loan duration is required.</small> 
          </mat-error>


            <div>
                <ng-container *ngIf="form.get('loanType').value==='educational'" class="form-control"> 
                    <div>
                        <label>Course fee:</label>
                        <input type="text" formControlName="courseFee"  >
                        <mat-error *ngIf="form.get('courseFee').hasError('required')">
                            <small class="error"> *Course fee is required.</small>                           
                      </mat-error>
                        <br/>
                        <label>Course:</label>
                      <select formControlName="courseName" >
                    <option disabled>Course Name</option>
                    <option value="be">B.E</option>
                    <option value="btech">B.Tech</option>
                </select>
                <mat-error *ngIf="form.get('courseName').hasError('required')">
                    <small class="error"> *Course name is required.</small>
              </mat-error>
                <br/>
                <label>Father name:</label>
                        <input type="text" formControlName="fatherName" >
                        <mat-error *ngIf="form.get('fatherName').hasError('required')">
                            <small class="error"> *Father name is required.</small>
                      </mat-error>
                        <br/>
                    </div>
                </ng-container>
            </div>
        </div>

        
        <div>
            <ng-container *ngIf="form.get('loanType').touched && form.get('loanType').value==='personal'||form.get('loanType').value==='housing'">
                <div>
                    <label>Annual Income:</label>
                    <input type="text" formControlName="annualIncome" required >
                    <mat-error *ngIf="form.get('annualIncome').hasError('required')">
                      <small class="error"> *Annual is required.</small>
                </mat-error>
                    <br/>
                    <label>Company Name:</label>
                    <input type="text" formControlName="companyName" required >
                    <mat-error *ngIf="form.get('companyName').hasError('required')">
                      <small class="error"> *Company name is required.</small>
                </mat-error>
                    <br/>       
                </div>
            </ng-container>
        </div>
        <button type="submit">Submit</button>
    </form>
</div>
